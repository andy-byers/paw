// bubble.paw

fn random(n: int) -> [int] {
    let a = [];
    let x = n;
    while #a < n {
        x = (140671485 * x + 12820163) % 16777216;
        a.push(x);
    }
    return a;
}

fn bubble(n: int) -> [int] {
    let a = random(n);
    while true {
        let swapped = false;
        let i = 1;
        while i < n {
            if a[i] < a[i - 1] {
                let t = a[i];
                a[i] = a[i - 1];
                a[i - 1] = t;
                swapped = true;
            }
            i = i + 1;
        }
        if !swapped {
            break;
        }
    }
    return a;
}

pub fn main(args: [str]) -> int {
    let n = 500;
    if #args > 1 {
        n = args[1].parse_int(10);
    }
    bubble(n);
    return 0;
}
