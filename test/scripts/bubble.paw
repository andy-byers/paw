
fn random(n) {
    let a = []
    let x = 0
    for _ = 0, n {
        x = (140671485 * x + 12820163) % 16777216
        a.push(x)
    }
    return a
}

fn bubble(n) {
    let a = random(n)
    while true {
        let swapped = false
        for i = 1, n {
            if a[i] < a[i - 1] {
                let t = a[i]
                a[i] = a[i - 1]
                a[i - 1] = t
                swapped = true
            }
        }
        if !swapped {
            break
        }
    }
    return a
}

let n = 100000
let time = require('time')
let t1 = time.time()
let a = bubble(n)
let t2 = time.time()
print((t2 - t1) / n * 1e9, 'ns/element')
